# **Oilfield Lib**
# Библиотека нефтяных месторождений с вычислением суммы общей добычи нефти
## Oilfield Lib - это приложение для работы с данными по нефтяным месторождениям и скважинам, построенным на них.

### Объекты "Нефтяные месторождения" (oilfields) относятся к участкам земли, на которых подтверждены залежи полезного ископаемого флюида.

В данном проекте основными данными для описания **месторождений** выбраны следующие:

**Name** - название нефтяного месторождения. Чаще всего название присваивается месторождению геологами, производившими их разведку. Пример: "Утреннее".
Также название может быть привязано к местоположению объекта. Пример: "Самотлорское месторождение нефти".

**Foundation Date** - дата основания месторождения. Обязательный параметр при описания любого месторождения в технических документациях.
В данном проекте при создании месторождения этот параметр заполнять необязательно, однако данная характеристика несет в себе не только ритуальное значение.
Опытному геологу, с учетом знаний "разреза" местности, эти данные дают первичное представление о возможностях месторождения. Увы, нефть - ресурс исчерпаемый.

**Extent Of Production** - объем добычи. В данном случае это условная величина, отображающая суммарный дебет всех скважин, расположенных на месторождении.
Данное приложение рассчитывает этот параметр автоматически, исходя из данных по скажинам (см. далее).

**Stage** - стадия разработки. В данном случае под стадией подразумевается наличие текущей добычи нефти из скважин месторождения. 
Значение данного параметра программа присваивает автоматически, исходя из данных по скважинам. При создании месторождения устанавливается "PLANNED", так как
объем добычи изначально равен нулю. При наличии любого, отличного от нуля, дебета скважин месторождения, устанавливается "COMMISSIONED". 
Соответственно при прекращении добычи устанавливается параметр "DECOMMISSIONED"

***Также у объектов oilfields в данном приложении автоматически присваиваются два технических поля:*** **Id** - для идентификации объекта и
**Last Update Time** - которое фиксирует время любого последнего изменения объекта.

### Объекты "Нефтяные скважины" (oil wells) относятся к горной выработке цилиндрической формы, чья длина во много раз больше диаметра, построенные с применением специальных материалов и средств.

Основными данными для описания **скважин** в проекте выбраны следующие:

**Number** - номер. Обязательный параметр, который присваивается каждой скважине на месторождении. Данный номер является "адресом" объекта,
наряду, например, с координатами устья скважины. У нескольких скважин могут быть одинаковы номера. В таких случаях используется дополнительный "Code".

**Code** - шифр, индекс или назначение скважины. Присваивается скважине в случаях: определенного назначения
скважины (пример: 17ЗБС, где "ЗБС" - "Забурка Бокового Ствола"),
скважина с таким номером уже существует (пример: 17-2, где 1 - порядковый номер), прочие случаи по желанию Недропользователя.

**Oilfield** - месторождение, на котором находится скважина. На одном месторождении обычно множество скважин. Это обязательный параметр.

**Debit** - количесво добываемого флюида за промежуток времени (обычно сутки - "суточный дебет"). Основной показатель работоспособности скважины.
(Лирическое отступление. А вы знали что... скважина дает не чистую нефть, а именно "флюид", субстанцию жидкого состояния, которая может содержать нефть,
растворенный газ, пластовую воду и прочие примеси? Так вот, процент воды в добываемом "флюиде" называется обводненностью и может доходить до 98-99%)

**Active** - логическое значение работоспособности скважины. Все просто: есть дебит - active=true, нет - false. Однако не стоит недооценивать этот параметр.
Скважина в простое/ремонте тратит огромное количество ресурсов Недропользователя. И значение true - лучшее успокоение для души нефтяника.

***Также у объектов oil wells в данном приложении автоматически присваивается:*** **Id** - для идентификации объекта.

## Технологический стек
### JDK 17
### Maven 4.0.0
### :: Spring Boot :: (v3.0.5)

### DB - MySQL8

#### Зависимости
org.springframework.boot - управление зависимостями данного web-приложения. Примечание: отключены все логи, кроме log4j2, которые перенаправлены в отдельные файлы.
Обновлен snakeyaml до версии 2.0 (защита от уязвимости старой версии, встроенной в Spring boot)

mysql драйвер дня работы с БД.

lombok - поддержка порядка в коде посредством удобных аннотаций.

### Инструкция по установке и запуску
На локальной машине должен быть установлен и запущен MySQL

Скачайте файл oilfieldlib-0.0.1-SNAPSHOT.jar

Скачайте файл конфигурации application.yaml

Установите в файле конфигурации свои логин/пароль MySQL.

![image](https://user-images.githubusercontent.com/120375170/232064520-4f3c6c16-1654-4786-be91-42507a79b3d9.png)


Внимание! ![image](https://user-images.githubusercontent.com/120375170/232072131-98055812-c77c-4402-847c-f3252f10cb05.png)
Параметр необходимо удалить, если беспокоитесь о конфиденциальности информации об ошибках приложения.

Строка для запуска приложения: java -jar oilfieldlib-0.0.1-SNAPSHOT.jar --application.yaml

### Инструкция по работе с приложением

![image](https://user-images.githubusercontent.com/120375170/232073638-062df8b3-c2a3-4d53-bb74-b126619b8c9e.png)


